@page "/datasourcetable/todo"
@inject HttpClient http

<Sagua.Datatable.Components.DataSourceTable DataSource=dataSource>
    <Sagua.Datatable.Components.OrderdColumn TModel="Models.Todo" Title="UserId" Field="@(x => x.UserId)" Source="UserId" IsSortable="true"/>
    <Sagua.Datatable.Components.OrderdColumn TModel="Models.Todo" Title="Id" Field="@(x => x.Id)" Source="Id" IsSortable="true"/>
    <Sagua.Datatable.Components.OrderdColumn TModel="Models.Todo" Title="Title" Field="@(x => x.Title)" Format="d"/>
    <Sagua.Datatable.Components.OrderdColumn TModel="Models.Todo" Title="Completed" Field="@(x => x.Completed)" Source="Completed" IsSortable="true"/>
</Sagua.Datatable.Components.DataSourceTable>


@code {

    Sagua.Datatable.Abstractions.IDataSource<Models.Todo> dataSource = null;

    protected override void OnInitialized()
    {
        dataSource = new DataSources.TodoDatasource(http);


        base.OnInitialized();
    }

    protected async override Task OnInitializedAsync()
    {
        var data = await http.GetStringAsync("https://jsonplaceholder.typicode.com/todos");
        Console.WriteLine(data);

        await base.OnInitializedAsync();
    }

}


